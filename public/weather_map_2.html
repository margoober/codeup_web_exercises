<!DOCTYPE html>
<html>
<head>
    <title>Weather Map</title>
    <link rel="stylesheet" type="text/css" href="weather_map_2.css">
</head>
<body>
    <table id="buttonCity">
		<tr>
			<td>
			
			</td>
			<td></td>
		</tr>
				<tr>
			<td>
				<h2 id="howAbout">How about that<br><div id="currentCity"></div></h2>

				<h1 id="weather">WEATHER?</h1>
				 <!--dropdown-->
			    <nav id="navigation" class="site-navigation" role="navigation">
			    	<ul class="menu">
			    		<li class="menu-item"><a href="#">Select City</a>
			    			<ul class="dropdown">
			    				<li class="menu-item sub-menu" class="cities" id="austin">Austin</li>
			    				<li class="menu-item sub-menu" class="cities" id="dallas">Dallas</li>
			    				<li class="menu-item sub-menu" class="cities" id="houston">Houston</li>
			    				<li class="menu-item sub-menu" class="cities" id="sanAntonio">San Antonio</li>
			    			</ul>
			    		</li>
			    	</ul>
			    </nav>
			   <!--end dropdown-->
			</td>
			<td id="cityPhoto">
				<div id="divSkyline"></div>
			</td>
		</tr>
	</table>
   <br>
   <br>

    <table id="weatherTable">
	    <tr>
	    	<td>
	    		<div class="dayName">Today</div>
	    		<br>
	    		<div id="divToday" class="day"></div>
	    	</td>
	    	<td>
	    		<div class="dayName">Tomorrow</div>
	    		<br>
	    		<div id="divTomorrow" class="day"></div>
	    	</td>
	    	<td>
	    		<div class="dayName">Next Day</div>
	    		<br>
	    		<div id="divNextDay" class="day"></div>
	    	</td>
	    </tr>
	</table>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script>/*________________________________________*/	
//hover shi
	$("#weatherTable td").hover(function() {
		$(this).css({
			"font-weight": "bold",
			"font-style": "normal"
	})
	}, function(){
		$(this).css({
			"font-weight": "normal",
			"font-style": "normal"
		})
	});
//end hover shi
//begin city selection
var userId = 4726206;
getForCity();
	$("#austin").click(function(){
		console.log("You clicked Austin.");
		userId = 4671654;
		getForCity();
	});
	$("#dallas").click(function(){
		console.log("You clicked Dallas.");
		userId = 4684888;
		getForCity();
	});
	$("#houston").click(function(){
		console.log("You clicked Houston.");
		userId = 4699066;
		getForCity();
	});
	$("#sanAntonio").click(function(){
		console.log("You clicked San Antonio.");
		userId = 4726206;
		getForCity();
	});
//end city selection
//ajax request for today
function getForCity() {
	$.get("http://api.openweathermap.org/data/2.5/forecast/daily", {
    APPID: "5d836ac820b69c1fc34d0e5be1d3d7b9",
    id: userId,
    cnt: 3,
    units: "imperial"
	}).done(function(data){
		console.log(data);
		$(".day").html("");
		$("#currentCity").html("");
		$("#divSkyline").html("");
		//city name
		var cityName = data.city.name;
		$("#currentCity").append(cityName);
		var citySkyline = '<img id ="skyline" src="/' + cityName + '.jpg">'
		$("#divSkyline").append(citySkyline);
		//today
			var tempSegodnja = Math.round(data.list[0].temp.min) + "° / " + Math.round(data.list[0].temp.max) + "°<br>";
			var iconSegodnja = '<img src="http://openweathermap.org/img/w/' + data.list[0].weather[0].icon + '.png" width="70" height="70">' + "<br>";
			var stateSegodnja = data.list[0].weather[0].description + "<br><br>";
			var windSegodnja = "winds " + Math.round(data.list[0].speed) + " mph<br><br>";
			$("#divToday").append(tempSegodnja);
			$("#divToday").append(iconSegodnja);
			$("#divToday").append(stateSegodnja);
			$("#divToday").append(windSegodnja);

		//tomorrow
			var tempVchera = Math.round(data.list[1].temp.min) + "° / " + Math.round(data.list[1].temp.max) + "°<br>";
			var iconVchera = '<img src="http://openweathermap.org/img/w/' + data.list[1].weather[0].icon + '.png" width="70" height="70">' + "<br>";
			var stateVchera = data.list[1].weather[0].description + "<br><br>";
			var windVchera = "winds " + Math.round(data.list[1].speed) + " mph<br><br>";
			$("#divTomorrow").append(tempVchera);
			$("#divTomorrow").append(iconVchera);
			$("#divTomorrow").append(stateVchera);
			$("#divTomorrow").append(windVchera);
		//next day
			var tempPozevchera = Math.round(data.list[2].temp.min) + "° / " + Math.round(data.list[2].temp.max) + "°<br>";
			var iconPozevchera = '<img src="http://openweathermap.org/img/w/' + data.list[2].weather[0].icon + '.png" width="70" height="70">' + "<br>";
			var statePozevchera = data.list[2].weather[0].description + "<br><br>";
			var windPozevchera = "winds " + Math.round(data.list[2].speed) + " mph<br><br>";
			$("#divNextDay").append(tempPozevchera);
			$("#divNextDay").append(iconPozevchera);
			$("#divNextDay").append(statePozevchera);
			$("#divNextDay").append(windPozevchera);
	}).fail(function(){
		console.log("YA BLEW IT")
	});
};
	/*_______________________________________*/</script>
</body>
</html>