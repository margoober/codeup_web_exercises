<DOCTYPE! html>
<html>
<head>
	<title>JSON intro</title>
</head>
<body>
	<script>
	(function() {
		//_________________________
		var books = [
			{
				"title" : "The Moviegoer",
				"author" : {
					"firstName" : "Walker",
					"lastName" : "Percy"
				},
				"year" : "1961"
			},
			{
				"title" : "Veronica",
				"author" : {
					"firstName" : "Mary",
					"lastName" : "Gaitskill"
				},
				"year" : "2007"
			},
			{
				"title" : "Герой Нашего Времени",
				"author" : {
					"firstName" : "Михайл",
					"lastName" : "Лермонтов",
				},
				"year" : "1839"
			},
			{
				"title" : "Being and Time",
				"author" : {
					"firstName" : "Martin",
					"lastName" : "Heidegger"
				},
				"year" : "1927"
			},
			{
				"title" : "Either/Or",
				"author" : {
					"firstName" : "Soren",
					"lastName" : "Kierkegaard"
				},
				"year" : "1843"
			},
			{
				"title" : "Der Zauberberg",
				"author" : {
					"firstName" : "Thomas",
					"lastName" : "Mann"
				},
				"year" : "1924"
			}
			];
		console.log(books);
		var yourAge = parseInt(prompt("How old are you?"));
		books.forEach(function (element, index, array) {
			console.log(
				"Book #"
				+ (index + 1)
				+ " is "
				+ "'"
				+ element.title
				+ "'"
				+ "."
				);
			if (element.year > 1950) {
				console.log(
					"It was written by "
					+ element.author.firstName
					+ " "
					+ element.author.lastName
					+ " in "
					+ element.year
					+ "."
					);
			} else {
				console.log(
					"It was written by "
					+ element.author.firstName
					+ " "
					+ element.author.lastName
					+ " waaaaaay back in "
					+ element.year
					+ "."
					);
			};
			if ((2016 - element.year) > yourAge) {
			console.log(
				"This book was written "
				+ (2016 - element.year)
				+ " years ago! That's "
				+ (((2016 - element.year)) / yourAge).toFixed(2)
				+ " times your age!"
				);
			} else {
				console.log(
				"This book was written "
				+ (2016 - element.year)
				+ " years ago!");
			}
		    if (index < array.length -1) {
		    	console.log (
		    	"_________________________"
		    	)
		    }
		})
	var arrayOfStrings = [];
	books.forEach(function (element, index, array) {
			var string = (
			element.title
			+ " was written by "
			+ element.author.firstName
			+ " "
			+ element.author.lastName
			)
			arrayOfStrings.push(string);
	})
	console.log(arrayOfStrings);
		//_________________________
	})();
	</script>
</body>
</html>